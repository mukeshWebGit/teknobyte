{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\teknobytePro-main\\\\frontend\\\\src\\\\screens\\\\search.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useReducer } from \"react\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport logger from \"use-reducer-logger\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state,\n        loading: true\n      };\n\n    case 'FETCH_SUCCESS':\n      return { ...state,\n        products: action.payload,\n        loading: false\n      };\n\n    case 'FETCH_FAIL':\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst bySearch = search => searchKey => searchKey.name.toLowerCase().includes((search || '').toLowerCase());\n\nexport const Search = () => {\n  _s();\n\n  const [{\n    loading,\n    error,\n    products\n  }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: ''\n  });\n  let [searchParams] = useSearchParams();\n  const serchKey = searchParams.get('key');\n  console.log(serchKey);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: 'FETCH_REQUEST'\n      });\n\n      try {\n        const result = await axios.get('/api/products');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: err.message\n        });\n      }\n    };\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"product\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container product_list\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row text-center\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: Error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this) : !products.filter(bySearch(serchKey)) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \" Please\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this) : products.filter(bySearch(serchKey)).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"productLists\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productBg\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: product.pColor ? `/product/${product.slug}?color=${product.pColor}` : `/product/${product.slug}`,\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.image,\n                  className: \"currentImg\",\n                  alt: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productDes text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"newPrice\",\n                children: [\"Offer Price: \", product.offerPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"oldPrice\",\n                children: [\"MRP:  \", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"#\",\n                className: \"btnBuy\",\n                children: \"Add to cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 14\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Search, \"FWiOBoqP+/3TecgU7Fgjyn2DNCo=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["axios","useEffect","useReducer","Link","useSearchParams","logger","reducer","state","action","type","loading","products","payload","error","bySearch","search","searchKey","name","toLowerCase","includes","Search","dispatch","searchParams","serchKey","get","console","log","fetchData","result","data","err","message","Error","filter","map","product","pColor","slug","image","offerPrice","price"],"sources":["D:/react/teknobytePro-main/frontend/src/screens/search.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useReducer } from \"react\";\nimport { Link, useSearchParams } from \"react-router-dom\";\nimport logger from \"use-reducer-logger\";\nconst reducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_REQUEST':\n        return { ...state, loading: true };\n      case 'FETCH_SUCCESS':\n        return { ...state, products: action.payload, loading: false };\n      case 'FETCH_FAIL':\n        return { ...state, loading: false, error: action.payload };\n      default:\n        return state;\n    }\n  };\n  const bySearch = (search) => (searchKey) => \n  searchKey.name.toLowerCase().includes((search || '').toLowerCase());\nexport const Search = () => {\n    const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\n        products: [],\n        loading: true,\n        error: '',\n      }); \n    let [searchParams] = useSearchParams();\n    const serchKey = searchParams.get('key');\nconsole.log(serchKey);\n    useEffect(() => { \n        const fetchData = async () => {\n          dispatch({ type: 'FETCH_REQUEST' });\n          \n        try {\n          const result = await axios.get('/api/products');\n          dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n        } catch (err) {\n          dispatch({ type: 'FETCH_FAIL', payload: err.message });\n        }  \n        }; \n        fetchData();\n      }, []);  \n\n    return (\n        <section className=\"product\"> \n        <div className=\"container product_list\">\n       \n        <div className=\"row text-center\">\n{loading? (\n      <div>Loading...</div>\n    ): error ? (\n      <div>{Error}</div>\n    ) : !products.filter(bySearch(serchKey)) ? (\n        <div> Please</div>\n    )\n    \n    : (\n      products.filter(bySearch(serchKey)).map((product) => (\n             <div className=\"col-md-4\">\n                <div className=\"productLists\">\n                <div className=\"productBg\"> \n                <Link to={product.pColor ? `/product/${product.slug}?color=${product.pColor}` : `/product/${product.slug}`}>\n            <h4>{product.name}</h4>\n                <img src={product.image} className=\"currentImg\" alt={product.name} />  \n                </Link>\n            </div>\n            <div className=\"productDes text-center\">\n                <p className=\"newPrice\">Offer Price: {product.offerPrice}</p>\n                <p className=\"oldPrice\">MRP:  {product.price}</p>\n                \n                <Link to=\"#\" className=\"btnBuy\">Add to cart</Link>\n            </div> \n                </div>   \n            </div>   \n                \n             \n        ))\n        )}\n      </div>\n      </div>\n      </section>\n        \n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}