{"ast":null,"code":"import _objectSpread from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from\"react\";import{Link}from\"react-router-dom\";import{Store}from\"../Store\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Products=function Products(props){var product=props.product;var selectedCol=product.pColor?product.pColor:null;var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var cartItems=state.cart.cartItems;var addToCartHandler=function addToCartHandler(item){var existItem=cartItems.find(function(x){return x._id===product._id&&x.selectedCol===selectedCol;});console.log(selectedCol);var quantity=existItem?existItem.quantity+1:1;ctxDispatch({type:'CART_ADD_ITEM',payload:_objectSpread(_objectSpread({},item),{},{quantity:quantity,selectedCol:selectedCol})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"productBg\",children:/*#__PURE__*/_jsxs(Link,{to:product.pColor?\"/product/\".concat(product.slug,\"?color=\").concat(product.pColor):\"/product/\".concat(product.slug),children:[/*#__PURE__*/_jsx(\"h4\",{children:product.name}),/*#__PURE__*/_jsx(\"img\",{src:product.image,className:\"currentImg\",alt:product.name})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"productDes text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"newPrice\",children:[\"Offer Price: \",product.offerPrice]}),/*#__PURE__*/_jsxs(\"p\",{className:\"oldPrice\",children:[\"MRP:  \",product.price]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btnBuy\",onClick:function onClick(){return addToCartHandler(product);},children:\"Add to Cart\"})]})]});};","map":{"version":3,"names":["useContext","Link","Store","Products","props","product","selectedCol","pColor","state","ctxDispatch","dispatch","cartItems","cart","addToCartHandler","item","existItem","find","x","_id","console","log","quantity","type","payload","slug","name","image","offerPrice","price"],"sources":["D:/react/teknobytePro-main/frontend/src/component/product.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\"\nimport { Store } from \"../Store\";\nexport const Products = (props) => {\n   const {product} = props;\n   const selectedCol = product.pColor ? product.pColor : null ; \n   const { state, dispatch: ctxDispatch } = useContext(Store);\n    const {\n      cart: { cartItems },\n    } = state;\n    const addToCartHandler = (item) => {\n        const existItem = cartItems.find((x) => x._id === product._id && x.selectedCol === selectedCol); \n        console.log(selectedCol);\n        const quantity = existItem ? existItem.quantity + 1 : 1; \n        ctxDispatch({\n            type: 'CART_ADD_ITEM',\n            payload: { ...item, quantity, selectedCol },\n          }); \n         \n    }\n    return(\n        <>\n        <div className=\"productBg\"> \n        <Link to={product.pColor ? `/product/${product.slug}?color=${product.pColor}` : `/product/${product.slug}`}>\n        <h4>{product.name}</h4>\n            <img src={product.image} className=\"currentImg\" alt={product.name} />  \n            </Link>\n            </div>\n            <div className=\"productDes text-center\">\n                <p className=\"newPrice\">Offer Price: {product.offerPrice}</p>\n                <p className=\"oldPrice\">MRP:  {product.price}</p>\n                <button type=\"button\" className=\"btnBuy\" onClick={() => addToCartHandler(product)} >Add to Cart</button>\n            </div> \n        </>\n    )\n}"],"mappings":"wHAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,KAAT,KAAsB,UAAtB,C,6IACA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAChC,GAAOC,QAAP,CAAkBD,KAAlB,CAAOC,OAAP,CACA,GAAMC,YAAW,CAAGD,OAAO,CAACE,MAAR,CAAiBF,OAAO,CAACE,MAAzB,CAAkC,IAAtD,CACA,gBAAyCP,UAAU,CAACE,KAAD,CAAnD,CAAQM,KAAR,aAAQA,KAAR,CAAyBC,WAAzB,aAAeC,QAAf,CACC,GACUC,UADV,CAEIH,KAFJ,CACEI,IADF,CACUD,SADV,CAGA,GAAME,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,IAAD,CAAU,CAC/B,GAAMC,UAAS,CAAGJ,SAAS,CAACK,IAAV,CAAe,SAACC,CAAD,QAAOA,EAAC,CAACC,GAAF,GAAUb,OAAO,CAACa,GAAlB,EAAyBD,CAAC,CAACX,WAAF,GAAkBA,WAAlD,EAAf,CAAlB,CACAa,OAAO,CAACC,GAAR,CAAYd,WAAZ,EACA,GAAMe,SAAQ,CAAGN,SAAS,CAAGA,SAAS,CAACM,QAAV,CAAqB,CAAxB,CAA4B,CAAtD,CACAZ,WAAW,CAAC,CACRa,IAAI,CAAE,eADE,CAERC,OAAO,gCAAOT,IAAP,MAAaO,QAAQ,CAARA,QAAb,CAAuBf,WAAW,CAAXA,WAAvB,EAFC,CAAD,CAAX,CAKH,CATD,CAUA,mBACI,wCACA,YAAK,SAAS,CAAC,WAAf,uBACA,MAAC,IAAD,EAAM,EAAE,CAAED,OAAO,CAACE,MAAR,oBAA6BF,OAAO,CAACmB,IAArC,mBAAmDnB,OAAO,CAACE,MAA3D,qBAAkFF,OAAO,CAACmB,IAA1F,CAAV,wBACA,oBAAKnB,OAAO,CAACoB,IAAb,EADA,cAEI,YAAK,GAAG,CAAEpB,OAAO,CAACqB,KAAlB,CAAyB,SAAS,CAAC,YAAnC,CAAgD,GAAG,CAAErB,OAAO,CAACoB,IAA7D,EAFJ,GADA,EADA,cAOI,aAAK,SAAS,CAAC,wBAAf,wBACI,WAAG,SAAS,CAAC,UAAb,2BAAsCpB,OAAO,CAACsB,UAA9C,GADJ,cAEI,WAAG,SAAS,CAAC,UAAb,oBAA+BtB,OAAO,CAACuB,KAAvC,GAFJ,cAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,CAAyC,OAAO,CAAE,yBAAMf,iBAAgB,CAACR,OAAD,CAAtB,EAAlD,yBAHJ,GAPJ,GADJ,CAeH,CAhCM"},"metadata":{},"sourceType":"module"}