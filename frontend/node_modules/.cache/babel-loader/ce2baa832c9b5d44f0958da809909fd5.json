{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';import{useEffect,useReducer,useState}from'react';import{Link,useParams}from'react-router-dom';import{Helmet}from'react-helmet-async';import logger from'use-reducer-logger';import{Products}from'../component/product';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var reducer=function reducer(state,action){switch(action.type){case'FETCH_REQUEST':return _objectSpread(_objectSpread({},state),{},{loading:true});case'FETCH_SUCCESS':return _objectSpread(_objectSpread({},state),{},{products:action.payload,loading:false});case'FETCH_FAIL':return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});default:return state;}};export var ProductList=function ProductList(){var _useReducer=useReducer(logger(reducer),{products:[],loading:true,error:''}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,products=_useReducer2$.products,dispatch=_useReducer2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,resultCategory;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'FETCH_REQUEST'});_context.prev=1;_context.next=4;return axios.get('/api/products');case 4:result=_context.sent;dispatch({type:'FETCH_SUCCESS',payload:result.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:'FETCH_FAIL',payload:_context.t0.message});case 11:_context.next=13;return axios.get('/api/categories');case 13:resultCategory=_context.sent;setCategory(resultCategory.data);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var params=useParams();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"title\",children:[category.filter(function(byCat){return byCat.categoryName===params.id;}).map(function(pro){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:pro.categoryName}),/*#__PURE__*/_jsxs(Helmet,{children:[\" \",/*#__PURE__*/_jsxs(\"title\",{children:[pro.categoryName,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breadcum\",children:[/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"Home\"}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-angle-right\",\"aria-hidden\":\"true\"}),\"   \",pro.categoryName,\" \"]})]},pro._id);}),\"   \"]}),/*#__PURE__*/_jsx(\"section\",{className:\"product\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container product_list\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row text-center\",children:loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:Error}):products.filter(function(byCat){return byCat.category===params.id;}).map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"productLists\",children:/*#__PURE__*/_jsx(Products,{product:product})})},product._id);})})})})]});};","map":{"version":3,"names":["axios","useEffect","useReducer","useState","Link","useParams","Helmet","logger","Products","reducer","state","action","type","loading","products","payload","error","ProductList","dispatch","category","setCategory","fetchData","get","result","data","message","resultCategory","params","filter","byCat","categoryName","id","map","pro","_id","Error","product"],"sources":["D:/react/teknobytePro-main/frontend/src/screens/productList.js"],"sourcesContent":["import axios from 'axios';\nimport { useEffect, useReducer, useState } from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport {Helmet} from 'react-helmet-async';\nimport logger from 'use-reducer-logger';   \nimport { Products } from '../component/product';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_REQUEST':\n        return { ...state, loading: true };\n      case 'FETCH_SUCCESS':\n        return { ...state, products: action.payload, loading: false };\n      case 'FETCH_FAIL':\n        return { ...state, loading: false, error: action.payload };\n      default:\n        return state;\n    }\n  };\n\nexport const ProductList = () => { \n    const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\n        products: [],\n        loading: true,\n        error: '',\n      }); \n      const [category, setCategory] = useState([]);\n        useEffect(() => {\n          const fetchData = async () => {\n            dispatch({ type: 'FETCH_REQUEST' });\n            \n          try {\n            const result = await axios.get('/api/products');\n            dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n          } catch (err) {\n            dispatch({ type: 'FETCH_FAIL', payload: err.message });\n          } \n          const resultCategory = await axios.get('/api/categories');\n          setCategory(resultCategory.data);\n          }; \n          fetchData();\n        }, []);  \n      const params = useParams();  \n\n       \n    return(\n      <>\n      <section className=\"title\">\n      {category.filter((byCat) => byCat.categoryName === params.id).map((pro) => (\n          <div className=\"container\" key={pro._id}>\n          <h2>{pro.categoryName}</h2>\n          <Helmet> <title>{pro.categoryName} </title></Helmet>\n          <div className=\"breadcum\"><Link to=\"#\">Home</Link> <i className=\"fa fa-angle-right\" aria-hidden=\"true\"></i>   {pro.categoryName} </div> \n          </div> \n      ))\n      }   </section>\n        <section className=\"product\"> \n        <div className=\"container product_list\">\n       \n        <div className=\"row text-center\">\n{loading? (\n      <div>Loading...</div>\n    ): error ? (\n      <div>{Error}</div>\n    ) : (\n      products.filter((byCat) => byCat.category === params.id).map((product) => (\n             <div className=\"col-md-4\" key={product._id}>\n                <div className=\"productLists\">\n                <Products product={product}/>\n                </div>   \n            </div>   \n                \n             \n        ))\n        )}\n      </div>\n      </div>\n      </section>\n      </>\n    )\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}