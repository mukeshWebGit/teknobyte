{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\teknobytePro-main\\\\frontend\\\\src\\\\screens\\\\productList.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useEffect, useReducer, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport logger from 'use-reducer-logger';\nimport { Products } from '../component/product';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state,\n        loading: true\n      };\n\n    case 'FETCH_SUCCESS':\n      return { ...state,\n        products: action.payload,\n        loading: false\n      };\n\n    case 'FETCH_FAIL':\n      return { ...state,\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const ProductList = () => {\n  _s();\n\n  const [{\n    loading,\n    error,\n    products\n  }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: ''\n  });\n  const [category, setCategory] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      dispatch({\n        type: 'FETCH_REQUEST'\n      });\n\n      try {\n        const result = await axios.get('/api/products');\n        dispatch({\n          type: 'FETCH_SUCCESS',\n          payload: result.data\n        });\n      } catch (err) {\n        dispatch({\n          type: 'FETCH_FAIL',\n          payload: err.message\n        });\n      }\n\n      const resultCategory = await axios.get('/api/categories');\n      setCategory(resultCategory.data);\n    };\n\n    fetchData();\n  }, []);\n  const params = useParams();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"title\",\n      children: [category.filter(byCat => byCat.categoryName === params.id).map(pro => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: pro.categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Helmet, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"title\", {\n            children: [pro.categoryName, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 20\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breadcum\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"#\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 37\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-angle-right\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 62\n          }, this), \"   \", pro.categoryName, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, pro._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)), \"   \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"product\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container product_list\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row text-center\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Loading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 7\n          }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: Error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 7\n          }, this) : products.filter(byCat => byCat.category === params.id).map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"productLists\",\n              children: /*#__PURE__*/_jsxDEV(Products, {\n                product: product\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 14\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProductList, \"RK4fnwheCtW+A+YnC0h84tqyS4I=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["axios","useEffect","useReducer","useState","Link","useParams","Helmet","logger","Products","reducer","state","action","type","loading","products","payload","error","ProductList","dispatch","category","setCategory","fetchData","result","get","data","err","message","resultCategory","params","filter","byCat","categoryName","id","map","pro","_id","Error","product"],"sources":["D:/react/teknobytePro-main/frontend/src/screens/productList.js"],"sourcesContent":["import axios from 'axios';\nimport { useEffect, useReducer, useState } from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport {Helmet} from 'react-helmet-async';\nimport logger from 'use-reducer-logger';   \nimport { Products } from '../component/product';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n      case 'FETCH_REQUEST':\n        return { ...state, loading: true };\n      case 'FETCH_SUCCESS':\n        return { ...state, products: action.payload, loading: false };\n      case 'FETCH_FAIL':\n        return { ...state, loading: false, error: action.payload };\n      default:\n        return state;\n    }\n  };\n\nexport const ProductList = () => { \n    const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\n        products: [],\n        loading: true,\n        error: '',\n      }); \n      const [category, setCategory] = useState([]);\n        useEffect(() => {\n          const fetchData = async () => {\n            dispatch({ type: 'FETCH_REQUEST' });\n            \n          try {\n            const result = await axios.get('/api/products');\n            dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\n          } catch (err) {\n            dispatch({ type: 'FETCH_FAIL', payload: err.message });\n          } \n          const resultCategory = await axios.get('/api/categories');\n          setCategory(resultCategory.data);\n          }; \n          fetchData();\n        }, []);  \n      const params = useParams();  \n\n       \n    return(\n      <>\n      <section className=\"title\">\n      {category.filter((byCat) => byCat.categoryName === params.id).map((pro) => (\n          <div className=\"container\" key={pro._id}>\n          <h2>{pro.categoryName}</h2>\n          <Helmet> <title>{pro.categoryName} </title></Helmet>\n          <div className=\"breadcum\"><Link to=\"#\">Home</Link> <i className=\"fa fa-angle-right\" aria-hidden=\"true\"></i>   {pro.categoryName} </div> \n          </div> \n      ))\n      }   </section>\n        <section className=\"product\"> \n        <div className=\"container product_list\">\n       \n        <div className=\"row text-center\">\n{loading? (\n      <div>Loading...</div>\n    ): error ? (\n      <div>{Error}</div>\n    ) : (\n      products.filter((byCat) => byCat.category === params.id).map((product) => (\n             <div className=\"col-md-4\" key={product._id}>\n                <div className=\"productLists\">\n                <Products product={product}/>\n                </div>   \n            </div>   \n                \n             \n        ))\n        )}\n      </div>\n      </div>\n      </section>\n      </>\n    )\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}