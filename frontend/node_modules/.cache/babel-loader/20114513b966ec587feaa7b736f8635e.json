{"ast":null,"code":"import _slicedToArray from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{createContext,useReducer}from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Store=/*#__PURE__*/createContext();var initialState={userInfo:localStorage.getItem('userInfo')?JSON.parse(localStorage.getItem('userInfo')):null,cart:{shippingAddress:localStorage.getItem('shippingAddress')?JSON.parse(localStorage.getItem('shippingAddress')):[],paymentMethod:localStorage.getItem('paymentMethod')?localStorage.getItem('paymentMethod'):'',cartItems:localStorage.getItem('cartItems')?JSON.parse(localStorage.getItem('cartItems')):[]}};function reducer(state,action){switch(action.type){case'CART_ADD_ITEM':// add to cart\nvar newItem=action.payload;var existItem=state.cart.cartItems.find(function(item){return item._id===newItem._id&&item.selectedCol===newItem.selectedCol;});var cartItems=existItem?state.cart.cartItems.map(function(item){return item._id===existItem._id&&item.selectedCol===existItem.selectedCol?newItem:item;}):[].concat(_toConsumableArray(state.cart.cartItems),[newItem]);localStorage.setItem('cartItems',JSON.stringify(cartItems));return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{cartItems:cartItems})});case'CART_REMOVE_ITEM':{var _cartItems=state.cart.cartItems.filter(function(item){return item._id!==action.payload._id||item.selectedCol!==action.payload.selectedCol;});localStorage.setItem('cartItems',JSON.stringify(_cartItems));return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{cartItems:_cartItems})});}case'CART_CLEAR':return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{cartItems:[]})});case'USER_SIGNIN':return _objectSpread(_objectSpread({},state),{},{userInfo:action.payload});case'USER_SIGNOUT':return _objectSpread(_objectSpread({},state),{},{userInfo:null,cart:{cartItems:[],shippingAddress:{},paymentMethod:''}});case'SAVE_SHIPPING_ADDRESS':return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{shippingAddress:action.payload})});case'SAVE_PAYMENT_METHOD':return _objectSpread(_objectSpread({},state),{},{cart:_objectSpread(_objectSpread({},state.cart),{},{paymentMethod:action.payload})});default:return state;}}export function StoreProvider(props){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var value={state:state,dispatch:dispatch};return/*#__PURE__*/_jsxs(Store.Provider,{value:value,children:[props.children,\" \"]});}","map":{"version":3,"names":["createContext","useReducer","Store","initialState","userInfo","localStorage","getItem","JSON","parse","cart","shippingAddress","paymentMethod","cartItems","reducer","state","action","type","newItem","payload","existItem","find","item","_id","selectedCol","map","setItem","stringify","filter","StoreProvider","props","dispatch","value","children"],"sources":["D:/react/teknobytePro-main/frontend/src/Store.js"],"sourcesContent":["import { createContext, useReducer } from 'react'; \n\nexport const Store = createContext();\n\nconst initialState = {\n  userInfo :localStorage.getItem('userInfo') \n  ?  JSON.parse(localStorage.getItem('userInfo'))\n  : null,\n  cart: {\n    shippingAddress:localStorage.getItem('shippingAddress')\n    ? JSON.parse(localStorage.getItem('shippingAddress'))\n    :[],\n    paymentMethod: localStorage.getItem('paymentMethod')\n    ? localStorage.getItem('paymentMethod')\n    :'',\n    cartItems: localStorage.getItem('cartItems')\n    ? JSON.parse(localStorage.getItem('cartItems'))\n    : [],\n  },\n}; \n \nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'CART_ADD_ITEM':\n      // add to cart\n      const newItem = action.payload;\n      const existItem = state.cart.cartItems.find(\n        (item) => item._id === newItem._id && item.selectedCol === newItem.selectedCol \n         \n      ); \n      const cartItems = existItem\n        ? state.cart.cartItems.map((item) =>\n            item._id === existItem._id &&  item.selectedCol === existItem.selectedCol  ? newItem : item\n          )\n        : [...state.cart.cartItems, newItem];\n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n      return { ...state, cart: { ...state.cart, cartItems } };\n      case 'CART_REMOVE_ITEM':{\n        const cartItems= state.cart.cartItems.filter(\n          (item) => item._id !== action.payload._id || item.selectedCol !== action.payload.selectedCol\n          \n          );\n          \n        localStorage.setItem('cartItems', JSON.stringify(cartItems));\n        return { ...state, cart: { ...state.cart, cartItems } };\n      }\n      case 'CART_CLEAR':\n        return { ...state, cart: { ...state.cart, cartItems:[] } };\n      case 'USER_SIGNIN':\n        return{...state, userInfo:action.payload}\n      case 'USER_SIGNOUT' : \n      return{\n        ...state, userInfo:null,\n        cart:{\n          cartItems:[],\n          shippingAddress:{},\n          paymentMethod:''\n        }\n      }\n      case 'SAVE_SHIPPING_ADDRESS':\n      return{\n        ...state, \n        cart: {\n          ...state.cart,\n          shippingAddress: action.payload,\n        },\n      }\n      case 'SAVE_PAYMENT_METHOD':\n        return{\n          ...state, \n          cart: {\n            ...state.cart,\n            paymentMethod: action.payload,\n          },\n        }\n    \n    default:\n      return state;\n  }\n}\n\nexport function StoreProvider(props) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const value = { state, dispatch };\n  return <Store.Provider value={value}>{props.children} </Store.Provider>;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}