{"ast":null,"code":"import _objectSpread from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from\"react\";import{Helmet}from\"react-helmet-async\";import{Link,useNavigate}from\"react-router-dom\";import{Store}from\"../Store\";import{faPlusSquare}from\"@fortawesome/free-regular-svg-icons\";import{faMinusSquare}from\"@fortawesome/free-regular-svg-icons\";import{faTrashAlt}from\"@fortawesome/free-regular-svg-icons\";import{faAngleRight}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CartScreen(){var navigate=useNavigate();var _useContext=useContext(Store),state=_useContext.state,ctxDispatch=_useContext.dispatch;var cartItems=state.cart.cartItems;var updateCartHandler=function updateCartHandler(item,quantity){ctxDispatch({type:'CART_ADD_ITEM',payload:_objectSpread(_objectSpread({},item),{},{quantity:quantity})});};var removeItemHandler=function removeItemHandler(item){ctxDispatch({type:'CART_REMOVE_ITEM',payload:item});};var checkoutHandler=function checkoutHandler(){navigate('/signin?redirect=/shipping');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Helmet,{children:\"   Shoping Cart \"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Shoping Cart\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"breadcum\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),\" \",' ',/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faAngleRight}),\"  \",' ',\"Shoping Cart\"]})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"product\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container product_list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:cartItems.length===0?/*#__PURE__*/_jsxs(\"p\",{children:[\"Cart is empty.  \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Shoping\"})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"list-group cartList\",children:cartItems.map(function(item){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col cartImg\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.selectedImg?item.selectedImg:item.image,alt:item.name,className:\"thumbImg\"}),\" \",' ']}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[item.selectedCol?/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.slug,\"?color=\").concat(item.selectedCol),className:\"cartListLink\",children:item.name}):/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.slug),className:\"cartListLink\",children:item.name}),item.selectedCol?/*#__PURE__*/_jsx(\"span\",{className:\"selectedColor\",children:item.selectedCol}):null]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return updateCartHandler(item,item.quantity-1);},disabled:item.quantity===1,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMinusSquare})}),' ',/*#__PURE__*/_jsx(\"span\",{className:\"thisCount\",children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return updateCartHandler(item,item.quantity+1);},disabled:item.quantity===item.countInStock,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPlusSquare})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-2 cartListPrice text-center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Price \"}),\" \",item.offerPrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"deletCartItem\",onClick:function onClick(){return removeItemHandler(item);},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrashAlt})}),\" \"]})]})},item._id+item.selectedCol);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group cartList\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"Subtotal (\",cartItems.reduce(function(a,c){return a+c.quantity;},0),' ',\"items) : \",' ',cartItems.reduce(function(a,c){return a+c.offerPrice*c.quantity;},0)]}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:checkoutHandler,disabled:cartItems.length===0,className:\"proccedtoCheckout buy\",children:\"Proceed to Checkout\"})})]})})]})})})]});}","map":{"version":3,"names":["useContext","Helmet","Link","useNavigate","Store","faPlusSquare","faMinusSquare","faTrashAlt","faAngleRight","FontAwesomeIcon","CartScreen","navigate","state","ctxDispatch","dispatch","cartItems","cart","updateCartHandler","item","quantity","type","payload","removeItemHandler","checkoutHandler","length","map","selectedImg","image","name","selectedCol","slug","countInStock","offerPrice","_id","reduce","a","c"],"sources":["D:/react/teknobytePro-main/frontend/src/screens/cartScreen.js"],"sourcesContent":["import { useContext } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { Link,  useNavigate } from \"react-router-dom\";\nimport { Store } from \"../Store\";\nimport { faPlusSquare } from \"@fortawesome/free-regular-svg-icons\";\nimport { faMinusSquare } from \"@fortawesome/free-regular-svg-icons\";\nimport { faTrashAlt } from \"@fortawesome/free-regular-svg-icons\";\nimport { faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n \nexport default function CartScreen()  {\n    const navigate = useNavigate();\n    const { state, dispatch: ctxDispatch } = useContext(Store);\n    const {\n      cart: { cartItems },\n    } = state;\n    const updateCartHandler = (item, quantity) => {\n\n        ctxDispatch({\n            type: 'CART_ADD_ITEM',\n            payload: { ...item, quantity },\n          });\n\n         \n    }\n    const removeItemHandler = (item) => {\n        ctxDispatch({\n            type: 'CART_REMOVE_ITEM',\n            payload:  item \n          });\n    }\n     \n    const checkoutHandler = () => {\n        navigate('/signin?redirect=/shipping');\n      };\n    return(\n        <>\n        <section className=\"title\">\n            <div className=\"container\">\n                <Helmet>   Shoping Cart </Helmet>\n                 <h2>Shoping Cart</h2> \n                <div className=\"breadcum\">\n                    <Link to=\"/\">Home</Link> {' '}\n                    <FontAwesomeIcon icon= {faAngleRight} />  {' '}\n                     Shoping Cart  \n                </div>\n            </div>\n        </section>\n        <section className=\"product\">\n              <div className=\"container product_list\">\n                <div className=\"row\">\n                    <div className=\"col-md-8\">\n                        {cartItems.length === 0 ? (\n                            <p>\n                                Cart is empty.  <Link to=\"/\">Go Shoping</Link>\n                            </p>  \n                       ) : (\n                        <ul className=\"list-group cartList\">\n                       { \n                       cartItems.map((item) => (\n                        \n                        <li className=\"list-group-item\" key={item._id + item.selectedCol} >\n                             <div className=\"row align-items-center\">\n                                        <div className=\"col-md-7\">\n                                            <div className=\"row align-items-center\">\n                                                <div className=\"col cartImg\">\n                                            <img src={item.selectedImg ? item.selectedImg : item.image} alt={item.name} className=\"thumbImg\" /> {' '} \n                                            </div>\n                                            <div className=\"col\"> \n                                            {\n                                                item.selectedCol \n                                                ? <Link to={`/product/${item.slug}?color=${item.selectedCol}`} className=\"cartListLink\">{item.name}</Link>\n                                                : <Link to={`/product/${item.slug}`} className=\"cartListLink\">{item.name}</Link>\n                                            }\n                                            {item.selectedCol ? <span className=\"selectedColor\">{item.selectedCol}</span> : null}\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-2\">\n                                            <button onClick={() =>\n                          updateCartHandler(item, item.quantity - 1)\n                        } disabled={item.quantity === 1}>\n                                            <FontAwesomeIcon icon={faMinusSquare} /> \n                                            </button>{' '}\n                                            <span className=\"thisCount\">{item.quantity}</span>\n                                            <button onClick={() =>\n                          updateCartHandler(item, item.quantity + 1)\n                        }\n                        disabled={item.quantity === item.countInStock}>\n                                            <FontAwesomeIcon icon={faPlusSquare} />\n                                            </button> \n                                            \n                                        </div>\n                                        <div className=\"col-md-2 cartListPrice text-center\"> <span>Price </span> {item.offerPrice}</div>\n                                        <div className=\"col-md-1\">\n                                        <button className=\"deletCartItem\" onClick={() => removeItemHandler(item)}>\n                                            <FontAwesomeIcon icon={faTrashAlt} />\n                                            </button> </div>\n                                    </div>\n                        </li>\n                    )) \n                    } \n                    </ul>\n                       \n                       ) }\n                     \n                    </div>\n                    <div className=\"col-md-4\">\n                    <ul className=\"list-group cartList\">\n                        <li className=\"list-group-item\">Subtotal ({cartItems.reduce((a, c) => a + c.quantity, 0)}{' '}\n                    items) : {' '} \n                    {cartItems.reduce((a, c) => a + c.offerPrice * c.quantity, 0)}</li>\n                    <li className=\"list-group-item text-center\"> \n                    <button type=\"button\" onClick={checkoutHandler} disabled={cartItems.length === 0} className=\"proccedtoCheckout buy\">\n                      Proceed to Checkout\n                    </button>\n                      </li>\n                    </ul>\n                    </div>\n                </div>\n            </div>\n        </section>\n        </>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}