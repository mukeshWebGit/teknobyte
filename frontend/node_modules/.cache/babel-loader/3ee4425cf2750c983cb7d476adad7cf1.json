{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";//import data from '../data';\nimport{Swiper,SwiperSlide}from'swiper/react';import{Navigation,Pagination}from'swiper';import logger from'use-reducer-logger';import{Helmet}from'react-helmet-async';import{useEffect,useReducer,useState}from'react';// Import Swiper styles\nimport'swiper/css';import'swiper/css/navigation';import'swiper/css/pagination';import axios from'axios';import{Products}from'../component/product';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var reducer=function reducer(state,action){switch(action.type){case'FETCH_REQUEST':return _objectSpread(_objectSpread({},state),{},{loading:true});case'FETCH_SUCCESS':return _objectSpread(_objectSpread({},state),{},{products:action.payload,loading:false});case'FETCH_FAIL':return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});default:return state;}};export function HomeScreen(){var _useReducer=useReducer(logger(reducer),{products:[],loading:true,error:''}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,products=_useReducer2$.products,dispatch=_useReducer2[1];// const [products, setProducts] = useState([]);\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),Slides=_useState2[0],setSlides=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result,resultSlide;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'FETCH_REQUEST'});_context.prev=1;_context.next=4;return axios.get('/api/products');case 4:result=_context.sent;dispatch({type:'FETCH_SUCCESS',payload:result.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:'FETCH_FAIL',payload:_context.t0.message});case 11:_context.next=13;return axios.get('/api/slides');case 13:resultSlide=_context.sent;setSlides(resultSlide.data);// setSlides(data.slides);\ncase 15:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Helmet,{children:[\" \",/*#__PURE__*/_jsx(\"title\",{children:\"Teknobyte\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"slider\",children:/*#__PURE__*/_jsx(Swiper,{modules:[Navigation,Pagination],spaceBetween:50,slidesPerView:1,navigation:true,pagination:{clickable:true},children:Slides.map(function(slide){return/*#__PURE__*/_jsxs(SwiperSlide,{children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:slide.slideImg,alt:\"slides\"}),\" \"]},slide._id);})})}),/*#__PURE__*/_jsxs(\"section\",{className:\"product\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading text-center\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Products\"})}),/*#__PURE__*/_jsx(Swiper,{modules:[Navigation],spaceBetween:30,slidesPerView:4.2,navigation:true,children:loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"div\",{children:Error}):products.sort(function(a,b){return a.productOrder>b.productOrder?1:-1;}).map(function(product){return/*#__PURE__*/_jsx(SwiperSlide,{children:/*#__PURE__*/_jsx(Products,{product:product})},product._id);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\"}),/*#__PURE__*/_jsx(\"div\",{className:\"separator\"})]});}","map":{"version":3,"names":["Swiper","SwiperSlide","Navigation","Pagination","logger","Helmet","useEffect","useReducer","useState","axios","Products","reducer","state","action","type","loading","products","payload","error","HomeScreen","dispatch","Slides","setSlides","fetchData","get","result","data","message","resultSlide","clickable","map","slide","slideImg","_id","Error","sort","a","b","productOrder","product"],"sources":["D:/react/teknobytePro-main/frontend/src/screens/home.js"],"sourcesContent":["//import data from '../data';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { Navigation, Pagination} from 'swiper'; \nimport logger from 'use-reducer-logger';\nimport {Helmet} from 'react-helmet-async';\nimport { useEffect, useReducer, useState } from 'react';\n// Import Swiper styles\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';  \nimport axios from 'axios'; \nimport { Products } from '../component/product';\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'FETCH_REQUEST':\n      return { ...state, loading: true };\n    case 'FETCH_SUCCESS':\n      return { ...state, products: action.payload, loading: false };\n    case 'FETCH_FAIL':\n      return { ...state, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport function HomeScreen()  {\n   const [{ loading, error, products }, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true,\n    error: '',\n  }); \n \n   // const [products, setProducts] = useState([]);\n    const [Slides, setSlides] = useState([]); \n    useEffect(() => {\n      const fetchData = async () => {\n        dispatch({ type: 'FETCH_REQUEST' });\n        \n      try {\n        const result = await axios.get('/api/products');\n        dispatch({ type: 'FETCH_SUCCESS', payload: result.data }); \n      } catch (err) {\n        dispatch({ type: 'FETCH_FAIL', payload: err.message });\n      } \n      \n        //setProducts(result.data);\n        const resultSlide = await axios.get('/api/slides');\n        setSlides(resultSlide.data);\n       // setSlides(data.slides);\n      }; \n      fetchData();\n    }, []); \n     \n    return(\n     \n      <div>\n      <Helmet> <title>Teknobyte</title></Helmet>\n        <section className=\"slider\">\n        \n          <Swiper\n          modules={[Navigation, Pagination]}\n          spaceBetween={50}\n          slidesPerView={1} \n          navigation\n      pagination={{ clickable: true }} \n        >\n          {Slides.map((slide) => (\n          <SwiperSlide key={slide._id}> <img src={slide.slideImg} alt=\"slides\"/> </SwiperSlide> \n          ))\n        }\n        </Swiper>  \n      \n      </section> \n      \n        \n        <section className=\"product\">\n      \n      <div className=\"heading text-center\"><h2>Products</h2></div>\n        <Swiper\n      modules={[Navigation]}\n      spaceBetween={30}\n      slidesPerView={4.2} \n      navigation \n    >\n{loading? (\n    <div>Loading...</div>\n  ): error ? (\n    <div>{Error}</div>\n  ) : (\n    products.sort((a, b) => (a.productOrder > b.productOrder) ? 1 : -1).map((product) => (\n       \n                <SwiperSlide key={product._id}> \n                  <Products product={product}/>\n                  </SwiperSlide> \n               \n        \n      \n      ))\n      )}\n    </Swiper> \n    </section>\n    <div className=\"separator\"></div>\n     \n    <div className=\"separator\"></div>\n   \n      </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}