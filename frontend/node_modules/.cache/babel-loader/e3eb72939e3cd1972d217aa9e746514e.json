{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/react/teknobytePro-main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useContext,useEffect,useState}from\"react\";import Col from\"react-bootstrap/esm/Col\";import Row from\"react-bootstrap/esm/Row\";import{Link,useNavigate,createSearchParams}from\"react-router-dom\";import{Store}from\"../Store\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Header=function Header(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchField=_useState4[0],setSearchField=_useState4[1];var navigate=useNavigate();var handleChange=function handleChange(e){setSearchField(e.target.value.toLowerCase());};function handleSubmit(e,res){e.preventDefault();navigate({pathname:\"search\",search:createSearchParams({key:searchField}).toString()});//navigate(`search?key=${searchField}`);\n}useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resultCategory;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/api/categories');case 2:resultCategory=_context.sent;setCategory(resultCategory.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var _useContext=useContext(Store),state=_useContext.state,ctxdispatch=_useContext.dispatch;var cart=state.cart,userInfo=state.userInfo;var signOutHandler=function signOutHandler(){ctxdispatch({type:'USER_SIGNOUT'});localStorage.removeItem('userInfo');localStorage.removeItem('shippingAddress');localStorage.removeItem('paymentMethod');};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"teknobyte\",className:\"logo\"}),\"  \"]})}),/*#__PURE__*/_jsx(Col,{md:9,children:/*#__PURE__*/_jsx(\"div\",{className:\"MenuBg\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"MainMenu list-unstyled align-items-center justify-content-end mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#\",children:[\"Products \",/*#__PURE__*/_jsx(\"span\",{className:\"caret\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"sub-menu list-unstyled m-0\",children:category.map(function(cat){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/category/\".concat(cat.categoryName),children:cat.categoryName})},cat._id);})})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"About Us\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"#\",children:\"Contact Us\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"searchBg px-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"searchFild\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"search\",className:\"search\",onChange:handleChange}),\" \",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"searchBtn\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../images/search.png\",alt:\"search\"})}),\" \"]})})}),/*#__PURE__*/_jsx(\"li\",{className:\"px-1 dropdown\",children:/*#__PURE__*/_jsx(\"div\",{className:\"signIn\",children:userInfo?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:\"#\",children:[userInfo.name,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"caret\"})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"sub-menu list-unstyled m-0\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"  User Profile \"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/orderHistory\",children:\"   Order History \"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/#signOut\",onClick:signOutHandler,children:\"  Sign Out \"})})]})]}):/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/signin\",children:\" Login \"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"px-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cart\",children:/*#__PURE__*/_jsxs(Link,{to:\"/cart\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../images/cart.png\",alt:\"Cart\"}),cart.cartItems.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"cartItem\",children:cart.cartItems.reduce(function(a,c){return a+c.quantity;},0)})]})})})]})})})]})});};","map":{"version":3,"names":["axios","useContext","useEffect","useState","Col","Row","Link","useNavigate","createSearchParams","Store","Header","category","setCategory","searchField","setSearchField","navigate","handleChange","e","target","value","toLowerCase","handleSubmit","res","preventDefault","pathname","search","key","toString","fetchData","get","resultCategory","data","state","ctxdispatch","dispatch","cart","userInfo","signOutHandler","type","localStorage","removeItem","map","cat","categoryName","_id","name","cartItems","length","reduce","a","c","quantity"],"sources":["D:/react/teknobytePro-main/frontend/src/screens/header.js"],"sourcesContent":["import axios from \"axios\";\nimport { useContext, useEffect, useState } from \"react\";\nimport Col from \"react-bootstrap/esm/Col\"\nimport Row from \"react-bootstrap/esm/Row\"\nimport { Link, useNavigate, createSearchParams } from \"react-router-dom\"\nimport { Store } from \"../Store\"; \n\n\nexport const Header = () => {\n    const [category, setCategory] = useState([]); \n    const [searchField, setSearchField] = useState(\"\");\n    const navigate = useNavigate();\n    const handleChange = (e) => {\n      setSearchField(e.target.value.toLowerCase());\n    };\n     \n      function handleSubmit(e, res) {\n        e.preventDefault();\n        navigate({\n          pathname: \"search\",\n          search: createSearchParams({\n              key: searchField\n          }).toString()\n      });\n        //navigate(`search?key=${searchField}`);\n      }\n      \n  useEffect(() => {\n    const fetchData = async () => { \n      const resultCategory = await axios.get('/api/categories');\n      setCategory(resultCategory.data); \n    };\n    fetchData();\n   \n  },[]); \n  const {state, dispatch:ctxdispatch} = useContext(Store);\n  const {cart, userInfo} = state;\n\n  const signOutHandler = () => {\n    ctxdispatch({type : 'USER_SIGNOUT' });\n    localStorage.removeItem('userInfo');\n    localStorage.removeItem('shippingAddress');\n    localStorage.removeItem('paymentMethod');\n  }\n    return(\n        <div className=\"container\">\n        <Row className='align-items-center'>\n            <Col md={3}>   \n              <Link to=\"/\"> <img src=\"/images/logo.png\" alt=\"teknobyte\" className=\"logo\" />  </Link> \n            </Col>\n            <Col md={9}> \n            <div className=\"MenuBg\">\n      <ul className=\"MainMenu list-unstyled align-items-center justify-content-end mb-0\">\n        <li><Link to=\"/\">Home</Link></li>\n        <li className=\"dropdown\">\n          <Link to=\"#\">Products <span className=\"caret\"></span></Link>\n          <ul className=\"sub-menu list-unstyled m-0\">\n            {category.map((cat) => (\n                <li key={cat._id}><Link to={`/category/${cat.categoryName}`}>{cat.categoryName}</Link></li>\n            ))} \n           </ul>\n          \n        </li>\n        <li><Link to=\"#\">About Us</Link></li>\n        <li><Link to=\"#\">Contact Us</Link></li>\n        <li className=\"searchBg px-1\"><div className=\"searchFild\"><form onSubmit={handleSubmit}><input type=\"text\" placeholder=\"search\" className=\"search\" onChange={handleChange}/> <button type=\"submit\" className=\"searchBtn\"><img src=\"../images/search.png\" alt=\"search\"/></button> </form></div></li>\n        <li className=\"px-1 dropdown\"><div className=\"signIn\"> \n        {userInfo ? (\n          <>\n          <Link to=\"#\">{userInfo.name} <span className=\"caret\"></span></Link>\n          <ul className=\"sub-menu list-unstyled m-0\">\n            <li>\n            <Link to=\"/profile\">  User Profile </Link>\n            </li>\n            <li>\n            <Link to=\"/orderHistory\">   Order History </Link>\n            </li>\n            <li>\n            <Link to=\"/#signOut\" onClick={signOutHandler}>  Sign Out </Link>\n            </li>\n         </ul>\n         </>\n        ) : (\n         <Link className=\"nav-link\" to = \"/signin\"> Login </Link>\n        )}\n        </div></li>\n        <li className=\"px-1\"><div className=\"cart\"><Link to=\"/cart\"><img src=\"../images/cart.png\" alt=\"Cart\"/>\n              {cart.cartItems.length > 0 && (\n                <span className=\"cartItem\">{cart.cartItems.reduce((a, c) => a + c.quantity, 0)}</span>\n              ) }\n        </Link></div></li>\n         \n      </ul>\n     \n    </div>\n            </Col>\n        </Row>\n     </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}